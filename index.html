<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pháo hoa lung linh & Thỏ treo</title>
<style>
body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at bottom, #020202 10%, #000 100%);
  overflow: hidden;
  position: relative;
}

/* Sao lấp lánh */
.star {
  position: absolute;
  background: white;
  border-radius: 50%;
  opacity: 0.8;
  animation: twinkle 2s infinite ease-in-out;
}
@keyframes twinkle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

/* Mặt trăng */
.moon {
  position: absolute;
  top: 30%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200px;
  height: 200px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fffef4 0%, #fff3b0 40%, #f6d97a 65%, #b68e2a 90%, #70561d 100%);
  box-shadow: 0 0 100px 50px rgba(255, 240, 180, 0.6);
  animation: moonGlow 6s ease-in-out infinite alternate;
  z-index: 2;
}
@keyframes moonGlow {
  from { box-shadow: 0 0 60px 30px rgba(255, 240, 180, 0.4); }
  to { box-shadow: 0 0 100px 50px rgba(255, 250, 210, 0.7); }
}

/* Lồng đèn bay */
.lantern {
  position: absolute;
  bottom: -150px;
  width: 50px;
  opacity: 0.9;
  animation: floatUp linear infinite;
  z-index: 3;
  filter: drop-shadow(0 0 15px rgba(255, 200, 100, 0.8));
}
@keyframes floatUp {
  0% { transform: translateY(0) scale(1); opacity: 0; }
  10% { opacity: 1; }
  90% { transform: translateY(-110vh) scale(1.05); opacity: 1; }
  100% { transform: translateY(-120vh) scale(1.1); opacity: 0; }
}

/* Hai con lân múa */
.lion {
  position: absolute;
  bottom: 0;
  width: 100px;
  z-index: 5;
}
.lion.left { left: 10%; animation: danceLeft 4s ease-in-out infinite; transform: scaleX(-1); }
.lion.right { right: 10%; animation: danceRight 4s ease-in-out infinite; }
@keyframes danceLeft {
  0%,100% { transform: scaleX(-1) translateY(0); }
  50% { transform: scaleX(-1) translateY(-30px) rotate(-5deg); }
}
@keyframes danceRight {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-30px) rotate(5deg); }
}

/* Pháo hoa */
.trail {
  position: absolute;
  width: 2px;
  height: 30px;
  border-radius: 2px;
  z-index: 10;
}

.particle {
  position: absolute;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  z-index: 11;
  pointer-events: none;
  animation: sparkle 0.8s infinite alternate;
  box-shadow: 0 0 5px currentColor, 0 0 10px currentColor;
}

@keyframes sparkle {
  0% { opacity: 0; transform: scale(0.5); }
  50% { opacity: 1; transform: scale(1.5); }
  100% { opacity: 0; transform: scale(0.5); }
}

/* Hình treo dây */
.hanger {
  position: absolute;
  top: 0px;
  z-index: 10;
}
.hanger .string {
  width: 2px;
  height: 80px;
  background: #fff;
  margin: 0 auto;
  box-shadow: 0 0 5px #fff;
}
.hanger img {
  display: block;
  margin: 0 auto;
  width: 100px;
  filter: drop-shadow(0 0 15px rgba(255,255,200,0.8));
  transform-origin: top center;
  animation: swing 2s ease-in-out infinite alternate;
}

.hanger.right img {
  width: 140px;  /* chỉnh kích thước riêng cho hình bên phải */
  transform: translateY(100px);
  margin-top: 0;
  }


.hanger.left { left: 40px; }
.hanger.right { right: 40px; animation-delay: 1s; }
@keyframes swing {
  0% { transform: rotate(-15deg); }
  50% { transform: rotate(15deg); }
  100% { transform: rotate(-15deg); }
}
</style>
</head>
<body>

<div class="moon"></div>

<!-- Hai con lân -->
<img src="lan.png" class="lion left">
<img src="lan.png" class="lion right">

<!-- Hình treo -->
<div class="hanger left">
  <div class="string"></div>
  <img src="tho.png" alt="Hình trái">
</div>
<div class="hanger right">
  <div class="string"></div>
  <img src="tho1.png" alt="Hình phải">
</div>

<script>
// --- Sao ---
for(let i=0;i<200;i++){
  const star=document.createElement('div');
  star.classList.add('star');
  const size=Math.random()*2+1;
  star.style.width=`${size}px`;
  star.style.height=`${size}px`;
  star.style.top=`${Math.random()*100}vh`;
  star.style.left=`${Math.random()*100}vw`;
  star.style.animationDuration=`${Math.random()*2+1}s`;
  document.body.appendChild(star);
}

// --- Lồng đèn ---
for(let i=0;i<15;i++){
  const lantern=document.createElement('img');
  lantern.src="den.png";
  lantern.classList.add('lantern');
  lantern.style.left=`${Math.random()*100}vw`;
  lantern.style.animationDuration=`${15+Math.random()*10}s`;
  lantern.style.animationDelay=`${Math.random()*10}s`;
  document.body.appendChild(lantern);
}

// --- Pháo hoa ---
const particleCount = 50; // số hạt mỗi vụ nổ

function animateParticle(particle,x,y){
  const angle=Math.random()*2*Math.PI;
  const speed=Math.random()*6+2;
  const distance=80+Math.random()*50;
  const dx=Math.cos(angle)*distance;
  const dy=Math.sin(angle)*distance;
  const anim=particle.animate([
    { transform:`translate(${x}px,${y}px)`, opacity:1 },
    { transform:`translate(${x+dx}px,${y+dy}px)`, opacity:0 }
  ], { duration:1200+Math.random()*500, easing:'ease-out' });
  anim.onfinish=()=>particle.remove();
}

function createFirework(x,y){
  const colors=["#ff4040","#ffcc00","#00ccff","#ff66ff","#00ff99","#ff7f50","#ff1493","#00ffff","#7fff00"];
  const fireColors=[];
  for(let i=0;i<5;i++) fireColors.push(colors[Math.floor(Math.random()*colors.length)]);
  fireColors.forEach(color=>{
    for(let i=0;i<particleCount;i++){
      const particle=document.createElement('div');
      particle.className='particle';
      particle.style.background=color;
      particle.style.setProperty('--i',i);
      document.body.appendChild(particle);
      animateParticle(particle,x,y);
    }
  });
}

function shootFirework(startX){
  const targetY=window.innerHeight*(0.3+Math.random()*0.3);
  const duration=1200+Math.random()*500;
  const trailColor = "#ffffff"; // màu vàng cố định

  const trail = document.createElement('div');
  trail.classList.add('trail');
  trail.style.background = `linear-gradient(to top, transparent, ${trailColor})`;

  trail.style.left=`${startX}px`;
  trail.style.bottom='0px';
  document.body.appendChild(trail);

  const anim=trail.animate([
    { transform:`translateY(0)`, opacity:0.8 },
    { transform:`translateY(-${targetY}px)`, opacity:0.9 }
  ], { duration, easing:'ease-out' });

  anim.onfinish=()=>{
    trail.remove();
    createFirework(startX,window.innerHeight-targetY);
  };
}

// --- Bắn pháo hai bên ---
setInterval(()=>{
  shootFirework(100+Math.random()*150);
  shootFirework(window.innerWidth-250+Math.random()*150);
},1000);
</script>
</body>
</html>
